<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>For the north</title>
  <link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/default.min.css">
  <link rel="stylesheet" href="/for-the-north-static/public/prism.css">
  <link rel="stylesheet" href="/for-the-north-static/public/styles.css">
  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
</head>
<body>
  <nav class="navbar">
    <a class="logo" href="/for-the-north-static/pages/index.html">
        <strong>FTN</strong>
    </a>
  </nav>
  <aside class="sidebar">
    <a class="nav-link" href="/for-the-north-static/pages/posts.html">Posts</a>
    <a class="nav-link" href="/for-the-north-static/pages/about.html">About</a>
  </aside>
  <main class="main post-body">
    <h2 class="post-headline">
      Prototypes, feared by many, dominated by a few.
    </h2>
    <p>
      Even with all the hype that many of us OOP programmers out there trying
      to get our ways, and implement our beloved patterns, it seems difficult
      even to use the most simple features of JavaScript along this paradigm.
    </p>
    <p>
      Don't worry, I understand.
    </p>
    <p>
      But when dark times come, these usually bring people that have experienced
      some sort of this cloudy and shadow neighborhoods that make us tremble when
      the project manager says:
    </p>
    <p class="dialog">
        "Hey, we are getting some issues in the product page,
        would you mind taking a look?"
    </p>
    <p class="sneaky-action">
        * project manager flees and leaves you to die*
    </p>
    <p>
      So, let's get started for once.
    </p>
    <p>
      Prototypes pretty much work the same way as object instances in <span id="code-tag-1" class="code">Java/C#/PHP</span> do.
    </p>
    <p>
      You add a few "attributes" and "methods" to have some features and functionality or behavior going, and you're good to go.
    </p>
    <p>
      Things get fuzzy when we attempt to mess with the word <span id="code-tag-2" class="code">this</span>.
    </p>
    <p>
      First, to wrap our heads around this, we must run into some
      samples so we can put our terms over the table and actually
      see what's going on. Suppose we have the following code samples:
    </p>
    <h3>ES5</h3>
    <div class="code-section">
        <input type="checkbox" class="collapse-checkbox" id="collapse-1">
        <label class="collapse-toggle" for="collapse-1" title="Click to toggle expand/collapse">
        </label>
        <pre class="collapse-content">
        <code class="code language-javascript">
          function Person(name){
            this.name = name
            this.sayHi = function() {
              console.log("Hi! I'm " + this.name)
            }
          }
  
          var johnSmith = new Person()
          johnSmith.sayHi()
        </code>
      </pre>
    </div>
    <h3>ES6</h3>
    <div class="code-section">
        <input type="checkbox" class="collapse-checkbox" id="collapse-2">
        <label class="collapse-toggle" for="collapse-2" title="Click to toggle expand/collapse">
        </label>
        <pre class="collapse-content">
        <code class="code language-javascript">
          class Person {
            constructor(name) {
              this.name = name
            }

            sayHi() {
              console.log(`Hi! I'm ${this.name}`)
            }
          }

          const johnSmith = new Person()
          johnSmith.sayHi()
        </code>
      </pre>
    </div>

    <p>
      A pretty normal code if you ask me.
      Nothing wrong with it. You can get out even
      by just calling <code>johnSmith.sayHi()</code>
      and you're good to go. Both samples are just fine.
    </p>
    <p>
      Now, let's get further.
      What would happen if we wanted to create a special
      prototype to handle a few click events from a page?
      Let's take a look:
    </p>
    <p>
      <div class="code-section">
            <input type="checkbox" class="collapse-checkbox" id="collapse-4">
            <label class="collapse-toggle" for="collapse-4" title="Click to toggle expand/collapse">
            </label>
            <pre class="collapse-content">
            <code class="code language-javascript">
              // JavaScript: index.js
              class ClickListener {
                constructor(button) {
                  this.button = button
                  this.counter = 0
                  this.button.addEventListener('click', this.handleClick)
                }

                handleClick() {
                  this.counter++
                  const counterHolder = document.querySelector('#counter')
                  counterHolder.innerHTML = `You clicked ${this.counter} times`
                }
              }

              const button = document.querySelector('#count-button')
              const listener = new ClickListener(button)
            </code>

            <code class="code language-html">
              &lt;!--HTML: index.html --&gt;
                  &lt;html&gt;
                    &lt;head&gt;&lt;/head&gt;
                    &lt;body&gt;
                      &lt;div&gt;
                        &lt;input type="button" id="count-button"&gt;
                        &lt;div id="counter" &gt;
                          You clicked 0 times
                        &lt;/div&gt;
                      &lt;/div&gt;
                    &lt;script src="./index.js"&gt;&lt;/script&gt;
                    &lt;/body&gt;
                  &lt;/html&gt;

              </code>
          </pre>
      </div>
    </p>
    <p>
      I want you to try this code.
      Visit a site like <a href="https://codesandbox.io">Code Sandbox</a>
      or <a href="https://codepen.io">CodePen</a>.
      The result of that code will be the same. Both sites will
      show, according to that script, that you clicked the button
      by "NaN" times.
    </p>

    <p>
      Why is this behavior going? Are we doing things wrong?
      Do we need to relearn the OOP concepts again? None of the
      2 latest questions.
    </p>

    <p>

    </p>
  </main>
  <script src="/for-the-north-static/public/javascript/prism.js"></script>
</body>
</html>